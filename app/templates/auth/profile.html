{% extends 'base.html' %}

{% block title %}Perfil{% endblock %}

{% block customCSS %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/register.css') }}">
{% endblock %}

{% block content %}

<div class="form-container">

    <h1>Datos Personales</h1>

    <form action="" method="post" class="modern-form">
        {{ form.csrf_token }}
    
        <div class="form-field">
            <label for="{{ form.nombre.id_for_label }}">Nombre:</label>
            {{ form.nombre(class="input-field", placeholder="Nombre", required=True) }}
            {% if form.nombre.errors %}
                    {% for error in form.nombre.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
            {% endif %}
        </div>
    
        <div class="form-field">
            <label for="{{ form.ape_pat.id_for_label }}">Apellido Paterno:</label>
            {{ form.ape_pat(class="input-field", placeholder="Apellido Paterno", required=True) }}
            {% if form.ape_pat.errors %}
                    {% for error in form.ape_pat.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
            {% endif %}
        </div>
    
        <div class="form-field">
            <label for="{{ form.ape_mat.id_for_label }}">Apellido Materno:</label>
            {{ form.ape_mat(class="input-field", placeholder="Apellido Materno", required=True) }}
            {% if form.ape_mat.errors %}
                    {% for error in form.ape_mat.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
            {% endif %}
        </div>
    
        <div class="form-field">
            <label for="{{ form.id_genero.id_for_label }}">Género:</label>   
            {{ form.id_genero(class="input-field", placeholder="Género", required=True) }}
            {% if form.id_genero.errors %}
                    {% for error in form.id_genero.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
            {% endif %}
        </div>
    
        <div class="form-field">
            <label for="{{ form.fecha_nacimiento.id_for_label }}">Fecha de Nacimiento:</label>  
            {{ form.fecha_nacimiento(class="input-field", placeholder="Fecha de Nacimiento", required=True) }} 
            {% if form.fecha_nacimiento.errors %}
                    {% for error in form.fecha_nacimiento.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
            {% endif %}
        </div>
    
        <div class="form-field">
            <label for="{{ form.id_nivelEdu.id_for_label }}">Nivel Educativo:</label>  
            {{ form.id_nivelEdu(class="input-field", placeholder="Nivel Educativo", required=True) }} 
            {% if form.id_nivelEdu.errors %}
                    {% for error in form.id_nivelEdu.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
            {% endif %}
        </div>
    
        <div class="form-field">
            <label for="{{ form.id_ocupacion.id_for_label }}">Ocupación:</label>  
            {{ form.id_ocupacion(class="input-field", placeholder="Ocupación", required=True) }} 
            {% if form.id_ocupacion.errors %}
                    {% for error in form.id_ocupacion.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
            {% endif %}
        </div>
    
        <div class="form-field">
            <label for="{{ form.ingresos_mensuales.id_for_label }}">Ingresos Mensuales:</label>  
            {{ form.ingresos_mensuales(class="input-field", placeholder="Ingresos Mensuales", min="0") }} 
            {% if form.ingresos_mensuales.errors %}
                    {% for error in form.ingresos_mensuales.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
            {% endif %}
        </div>
    
        <div class="form-field">
            <label for="{{ form.curp.id_for_label }}">Curp:</label>  
            {{ form.curp(class="input-field", placeholder="Curp", required=True) }} 
            {% if form.curp.errors %}
                    {% for error in form.curp.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
            {% endif %}
        </div>
    
        <div class="form-field">
            <label for="{{ form.tel_cel.id_for_label }}">Teléfono Celular:</label>  
            {{ form.tel_cel(class="input-field", placeholder="Teléfono Celular", required=True) }} 
            {% if form.tel_cel.errors %}
                    {% for error in form.tel_cel.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
            {% endif %}
        </div>

        <div class="form-field">
            <label for="{{ form.tel_casa.id_for_label }}">Teléfono Casa (opcional):</label>
            {{ form.tel_casa(class="input-field", placeholder="Teléfono Casa", required=false )}}
        </div>

        <div class="form-field">
            <label for="{{ form.email.id_for_label }}">Correo:</label>
            {{ form.email(class="input-field", placeholder="Email", readonly="readonly") }}
        </div>

        <div class="form-field">
            {{ form.submit(class="submit-button") }}
        </div>
    </form>

    <hr>
    <h2>Cambiar contraseña</h2>
    <hr>
    
    <form method="POST" action="" , enctype="multipart/form-data" class="modern-form">
        {{ password_form.hidden_tag() }}

        <div class="form-field">
            <label for="{{ password_form.old_password.id_for_label }}">Contraseña actual:</label>
            {{ password_form.old_password(class="input-field") }}
        </div>

        <div class="form-field">
            <label for="{{ password_form.new_password.id_for_label }}">Nueva contraseña:</label>
            {{ password_form.new_password(class="input-field") }}
        </div>

        <div class="form-field">
            <label for="{{ password_form.confirm_password.id_for_label }}">Confirmar nueva contraseña:</label>
            {{ password_form.confirm_password(class="input-field") }}
        </div>
        
        <button type="submit" class="btn btn-primary">Cambiar contraseña</button>
    </form>

</div>

{% endblock %}